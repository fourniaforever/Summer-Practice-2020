@using Ninject;
@using System.Security.Cryptography;
@using SummerPracticeProject.Ioc;
@using SummerPracticeProject.BLL.Interfaces;
@using SummerPracticeProject.Entities;
@using System.Text;
@{
    Layout = null;
    var _rateLogic = DependencyResolver.Kernel.Get<IRatesLogic>();
    var _shopLogic = DependencyResolver.Kernel.Get<IShopsLogic>();
    var _userLogic = DependencyResolver.Kernel.Get<IUsersLogic>();
}

@if (IsPost)
{
    int id;

    if (!string.IsNullOrEmpty(Request["Action"]) &&
        Request["Action"] == "Delete rate")
    {
        if (!string.IsNullOrEmpty(Request["Id"])&&
            int.TryParse(Request["Id"], out id))
        {

            _rateLogic.Remove(id);
            Response.Redirect("~/Pages/Rates.cshtml");
        }
        else
        {
            Response.Redirect("~/Pages/Shops.cshtml");
        }
    }
    else
    {
        Response.Redirect("~/Pages/Shops.cshtml");
    }

}